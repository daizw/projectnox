++++++++++++++++++++++++++++++++++++++++
2008.05.19
refactor!!
++++++++++++++++++++++++++++++++++++++++
2008.05.18
学习有关加解密的知识.
++++++++++++++++++++++++++++++++++++++++
2008.05.17
考虑把私聊实现由JxtaBiDiPipe改为JxtaSocket,
 这样可以实现自动切包, 从而可以传输大文件.
++++++++++++++++++++++++++++++++++++++++
2008.05.16
bug:同样的消息在窗口中显示两次:
因为:为同样的管道添加了两个监听器(也有可能是两个pipe和两个监听器)

需要完善的:
如果网络出现问题, 原来的管道不能用了, 则只能通过重启来恢复通信.
应该需要隔一段时间自动ping所有注册过的节点/组,
ping不通应该自动重连.

bug:没有密码的组广告无法创建组-- rpwt? 删掉缓存后又正常了...

关于ChatroomUnit中各元素(主要是pipe和chatroom)之间关系:
1. room == null, 以ChatroomUnit中pipe为准.
2. room != null, 以Chatroom中pipe为准.

关于chatroom注册问题:
groupchatroom:
用户双击组打开窗口后即注册.

似乎解决了窗口重复创建的问题.
TODO: 组员搜索;---done!
TODO: 在线状态;
TODO: 消息加密;
TODO: 小文件传输.

23:13
添加组员搜索功能;
添加双击组员建立聊天室功能;
无敌了.
另外进行了一些重构.

++++++++++++++++++++++++++++++++++++++++
2008.05.15
1. 群聊传送某些图片失败是因为广播消息尺寸限制, 小图片(13KB)是可以传输的.
2. 组成员列表:
删除以该组ID为表名的表, 删除列表所有项.
建立以该组ID为表名的表.
搜索到组员并添加到列表的同时, 将其保存到数据库中(添加前删除同ID的项).
每次初始化聊天室时从数据库中读取成员数据.
3. 初始化时为每个组自动重新进行认证.-- Done! -- 重新认证是必要的吗?

基本实现系统初始化和新加组时开始自动监听组通讯.
有个bug: 用没有密码的组广告无法创建组, 似乎是因为找不到模块广告.
会不会是组/父组有的地方搞混了? 但是之前还是可以的啊!
++++++++++++++++++++++++++++++++++++++++
2008.05.14
TODO: 在线状态;
TODO: 组成员搜索;
TODO: 消息加密;
TODO: 小文件传输.
++++++++++++++++++++++++++++++++++++++++
2008.05.12
重构;
群聊试验性成功, 还有许多细节需要处理;
TODO: 有个Bug, 只能发截屏, 不能发图片, 很奇怪;
TODO: 为组添加退出功能.
有个大问题就是重启后不能搜到管道广告;
另外重启后还需要重新加入组.........
++++++++++++++++++++++++++++++++++++++++
2008.05.11
可以建组加组了,
It's getting better!
TODO 因为要实现群聊, 需要大量重构!
++++++++++++++++++++++++++++++++++++++++
2008.05.10
Begin PeerGroup Programming
++++++++++++++++++++++++++++++++++++++++
2008.05.09
添加建组对话框;
修改管道发现和管道重建策略, 发现并使用本地最新的管道, 不存在任何管道时才重建管道.
++++++++++++++++++++++++++++++++++++++++
2008.05.07-08
初步实现数据库存取;
初步实现好友/黑名单互操作.
++++++++++++++++++++++++++++++++++++++++
2008.05.06
有时出现连接不上的问题, 应该是因为搜索到了以前运行时的管道广告, 
从而企图去连接那个已经被废弃的管道.
这样显然是不会成功的.
//暂时用使用最新管道广告来解决
继续完善代码.
++++++++++++++++++++++++++++++++++++++++
2008.04.30
继续完善;
TODO:有时候主动连接的时候会出问题,怀疑是(管道)广告失效的问题.
TODO:需要定时清理失效广告;
TODO:获取广告赋值前需要判断是不是已经失效了.
++++++++++++++++++++++++++++++++++++++++
2008.04.29
代码修改完善;
添加发送图片/发送截屏功能.
TODO: 在此基础上可以实现传送文件功能.
++++++++++++++++++++++++++++++++++++++++
2008.04.27-28
基本完成私聊;
完善了UI部分代码;
TODO: 群聊
++++++++++++++++++++++++++++++++++++++++
2008.04.26
网络部分代码重构;
Peer Discovery基本完成.
开始Pipe通信编程;
++++++++++++++++++++++++++++++++++++++++
2008.04.25
完善相关接口;
部分代码重构;
为JList列表元素添加右键选择功能;
为不同类型JList元素添加不同提示;
实现搜索窗口;
部分实现搜索功能;
++++++++++++++++++++++++++++++++++++++++
2008.04.24
编写个人/系统设置窗口, 实现左侧选择菜单, 可以折叠和打开;
整合好友列表和黑名单, (与QQ类似), 两个列表可以折叠一个并打开另一个,
即只显示其中一个.
添加大量监听器, 实现双击列表中表项打开对应的私聊/群聊窗口;
单击主界面头像可以打开个人/系统设置窗口.
实现鼠标停留在某个表项上出现较复杂(美观)的tips(使用内嵌html).
修改了很多相关接口.
修改了私聊窗口左侧栏的布局和相关元素.
修改标题栏: 将菜单改为点击logo弹出;删除窗口设置按钮.
修改菜单背景为白色.
为好友列表/组列表/黑名单添加右键菜单.
借了一些书, 看了一点Lucene的知识, 可以用于消息记录等检索.
好友/组/个人数据考虑使用数据库存储.
某些非关键系统参数可以使用xml存储.
TODO: 搜索peer/group界面; 聊天消息记录显示/检索界面.
++++++++++++++++++++++++++++++++++++++++
2008.04.23
学习使用Discovery协议
++++++++++++++++++++++++++++++++++++++++
2008.04.21-22
学习使用Ant工具
++++++++++++++++++++++++++++++++++++++++
2008.04.08
修改截屏部分, 添加编辑工具条, 包含send/copy/save/cancel四个按钮.
修改截屏部分, 添加ESC退出快捷键和修正了左上角不能resize选取的bug和其它一些小bug
++++++++++++++++++++++++++++++++++++++++
2008.04.07
修改截屏部分, 添加右键菜单, 包含send/copy/save/cancel选项;
还有一些细节问题, 具体见http://world.yo2.cn/archives/627423
++++++++++++++++++++++++++++++++++++++++
2008.04.06
调整一些细节问题:
改变窗口颜色后, 同步更新前景色(因为可能存在由于原来的前景色和背景色相同而出现看不清文字的情况, 能力越大, 责任越大, ft)
添加发送图片功能, 初步实现插入图片(without 网络部分);
添加截屏功能, 初步实现插入图片(without 网络部分);
添加系统托盘图标.
++++++++++++++++++++++++++++++++++++++++
2008.04.05
实现调节窗口颜色功能;
实现窗口设置(调节颜色及透明度)菜单;
初步实现私聊和群聊窗口侧栏SingleChatRoomSidePane和MultiChatRoomSidePane类.
更换了窗口背景图片, 使之更加美观.
++++++++++++++++++++++++++++++++++++++++
2008.04.04
TODO:通过调用JSplitPane的相关函数可以实现类似MSN聊天窗口中显示和折叠侧栏的功能(暂时不实现).
阅读了http://cwq.jsp-tech.cn处下到的代码, 发现作者是通过JTextPane.getText()获取text,
然后对其中的"/25.gif"类型的字串进行处理还原为图片的方式来实现图片插入.
并不是直接的拷贝.个人感觉这种方法并不是太通用, 因为会受到图片存放路径的限制, 比如说如果要插入两个文件夹下面的表情, 这种方法就不太好处理.
所以还是暂时保留原来的做法: 输入框插入字符串, 发送时进行解析.
实现窗口透明度调节功能;
初步实现窗口颜色调节功能;
++++++++++++++++++++++++++++++++++++++++
2008.04.03
又添加15个表情(from fasticon.com);
修改优化ChatroomPane, 欲使输入框实时显示表情(原来以字符串表示):
方案:
(含图片)		输入框		历史消息窗口
			^		^
			|		|
			|		|
			v		v
(图片以字符串表示)	输入框消息<---->历史消息
实际的消息以字符串形式表示/处理,
显示与内部格式分开.
缺点:
维护输入框消息时获取输入框文字不方便.
决定放弃.
TODO:
在http://cwq.jsp-tech.cn下到一份源码, 考虑参照修改JTabbedPane(原来的标签太长了...).
修改窗口移动时的光标;
在http://www.esus.com/docs/GetQuestionPage.jsp?uid=1283
和http://forum.java.sun.com/thread.jspa?threadID=151127&messageID=434043
找到使JTable透明的方法,从而实现通过显示静态图片而不是gif的方法降低CPU占用率.
++++++++++++++++++++++++++++++++++++++++
2008.04.02
代码重构:
从Cheyenne和Chatroom类抽出类NoxFrame作为二者基类;
考虑为此基类增加设置背景图片, 边框颜色, logo图片等函数, 
以支持动态设置主题.
添加最大化/恢复窗口按钮, 有最大化时遮住任务栏的bug
(未找到可接受的解决方法, 要彻底解决需要自定义很多东西, 
所以决定暂时不解决).
添加双击最大化/恢复窗口功能.

对resrc文件夹进行了整理:
audio: 音频
buttons: 按钮图标
docs: html文档之类
dump: 暂存文件
faces: 表情图片
icons: 图标
images: 大图片, 如背景
logo: logo
portrait: 头像

在以前的ChatroomPane的基础上编写chatroom代码:
修改表情JTabel, 可支持105(=7*15)个表情;
试图使JTabel对父JPanel透明, 失败;
存在同时显示105个gif图片导致CPU占用率较高的缺点;
修改DialogEarthquakeCenter类, 使之适用于Window类实例;
(这说明了解图形类之间的继承关系还是很有用的)
添加闪屏振动的功能, 可用于支持发送闪屏振动;
使用JSplitPane修改Chatroom窗口布局.
++++++++++++++++++++++++++++++++++++++++
2008.04.01
代码重构:
将titlebar和footpane抽出为类;
将miniprofilepane和tabbedpane抽出为类;
初步编写chatroom代码.
++++++++++++++++++++++++++++++++++++++++
2008.03.24
修改选项卡图标;
修改头像图片尺寸, 背景透明;
添加昵称JLabel;
修改签名档为背景透明;
修改元件尺寸及排列方式等细节;
添加界面边框;
添加好友/组/黑名单 JList;
实现过滤(即搜索)功能;
实现显示头像/昵称/签名功能;
++++++++++++++++++++++++++++++++++++++++
2008.03.23
主界面, About对话框
实现功能:
窗口自定义装饰(logo, title, minimize, close, resize);
About对话框震动特效(可用于登录密码错误情况, 此处仅仅是作为示例);
About对话框显示htm文档;
头像(portrait);
在线状态;
签名档;
功能标签(聊天/群聊/黑名单);
窗口自定义图片背景;
++++++++++++++++++++++++++++++++++++++++